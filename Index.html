<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="./static/main.css">
</head>

<body>

    <div class="page">
        <form method="POST"  class="formLogin"> <!-- Alterado o 'action' para a rota de login -->
            <h1>Login</h1>
            <p>Digite os seus dados de acesso no campo abaixo.</p>
            <label for="email">E-mail</label>
            <input type="email" name="email" placeholder="Digite seu e-mail" autofocus="true" />
            <!-- Adicionado 'name="email"' -->
            <label for="password">Senha</label>
            <input type="password" name="senha" placeholder="Digite sua senha" /> <!-- Adicionado 'name="senha"' -->
            <a href="/">Esqueci minha senha</a>
            <a href="cadastro.html">CADASTRAR </a>
            <input type="submit" value="Acessar" class="btn" />


        </form>
    </div>

    <script type="module">

        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAxbSS7cPJN1Um3dI3El_pbRr3zoGIC0SE",
            authDomain: "projetofacul-5f561.firebaseapp.com",
            projectId: "projetofacul-5f561",
            storageBucket: "projetofacul-5f561.appspot.com",
            messagingSenderId: "550053983869",
            appId: "1:550053983869:web:13078275c8bccee7f52314",
            measurementId: "G-X5RWK6842N"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);

        document.getElementById('criar').addEventListener('click', function ()){
            const login = document.getElementById('login').value
            const email = document.getElementById('email').value
            const senha = document.getElementById('senha').value

            const auth = getAuth();
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in 
                    const user = userCredential.user;
                    // ...
                    alert('Criado com sucesso')
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // ..
                    alert('OPS HOUVE UM ERRO')
                });
        }
    </script>
</body>

</html>